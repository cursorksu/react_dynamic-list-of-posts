(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{11:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),o=a(2),u=a(9),l=a.n(u),i=a(10),m=a(1),p=a.n(m),f=a(3),d="https://jsonplaceholder.typicode.com",b=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(d+"/posts"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(d+"/users"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(d+"/comments"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=h(),N=E(),j=y(),w=Promise.all([v,N,j]).then((function(e){var t=Object(o.a)(e,3),a=t[0],n=t[1],r=t[2];return a.map((function(e){return Object(i.a)({},e,{user:n.find((function(t){return t.id===e.userId})),postComments:r.filter((function(t){return t.postId===e.id}))})}))})),O=function(e){var t=e.post,a=t.id,n=t.user,c=t.body,s=t.title,o=t.postComments;return r.a.createElement("li",null,r.a.createElement("div",{className:"card border-secondary mb-3 row"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,"#".concat(a)),r.a.createElement("h6",{className:"card-title"},n.name)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},s),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("ul",{className:"comments"},o.map((function(e){return r.a.createElement("li",{key:"comment".concat(e.id)},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",{className:"text-primary"},e.name),r.a.createElement("br",null),r.a.createElement("span",{className:"text-secondary"},e.email)),r.a.createElement("p",null,e.body))}))))))},g=function(e){var t=e.posts;return r.a.createElement("ul",{className:"posts"},t.map((function(e){return r.a.createElement(O,{key:e.id,post:e})})))},x=function(e){var t=e.setValue,a=e.searchingValue;return r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"search"},"Search post by title or by description",r.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:t,id:"search",placeholder:"put someth.."}))))},k=(a(26),a(27),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),i=u[0],m=u[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),d=f[0],b=f[1],h=Object(n.useMemo)((function(){return a.filter((function(e){var t=e.title,a=e.body;return t.includes(d.toLocaleLowerCase())||a.includes(d.toLocaleLowerCase())}))}),[d,a]),E=l()((function(e){b(e.toLocaleLowerCase())}),1e3);return r.a.createElement("main",{className:"container"},r.a.createElement("h1",{className:"text-center title"},"Dynamic list of posts"),0===a.length&&r.a.createElement("button",{type:"button",className:"button-load btn btn-secondary",onClick:function(){m(!0),w.then((function(e){c(e),m(!1)}))}},i?"Loading...":"Load"),0!==a.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{setValue:function(e){return E(e.target.value)},searchingValue:d}),r.a.createElement(g,{posts:h})))});s.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ac7d6bd7.chunk.js.map